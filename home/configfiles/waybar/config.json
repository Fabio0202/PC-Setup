  {
    "height": 28,
    "position": "top",
    "layer": "top",

    "modules-left": [
      "hyprland/workspaces",
      "custom/music"
    ],
    "modules-center": [
      "clock"
    ],
    "modules-right": [
      "tray",
      "cpu",
      "memory",
      "custom/cpu_temp",
      "backlight",
      "custom/kblayout",
      "battery",
      "pulseaudio",
      "custom/mic",
      "custom/nightmode",
      "custom/notifications",
      "custom/power"
    ],

"custom/notifications": {
  "format": "",
  "on-click": "swaync-client -t",   
  "on-click-right": "swaync-client -d",
  "tooltip": false
},
    "backlight": {
      "device": "intel_backlight",
      "format": "{icon} ",
      "format-icons": [
        "", "", "", "", "", "", "", "", ""
      ]
    },

    "battery": {
      "format": "{icon} {capacity}%",
      "format-alt": "{icon} {capacity}%",
      "format-charging": "󰂄 {capacity}%",
      "format-plugged": "󰂄 {capacity}%",
      "format-icons": [
        "󰁺", "󰁻", "󰁼", "󰁽", "󰁾", "󰁿", "󰂀", "󰂁", "󰂂", "󱟢"
      ],
      "states": {
        "critical": 15,
        "warning": 30
      }
    },

    "clock": {
      "format": "  {:%d. | %H:%M:%S}",
      "format-alt": "  {:%d/%m/%Y %H:%M}",
      "interval": 1,
      "timezone": "Europe/Vienna",
      "tooltip-format": "<big>{:%Y %B}</big>\n<tt><small>{calendar}</small></tt>"
    },

    "cpu": {
      "format": "󰍛  {usage}%",
      "interval": 5,
      "tooltip": false,
      "on-click": "kitty btop"
    },

    "memory": {
      "format": "󰘚  {percentage}%",
      "interval": 5,
      "tooltip": false,
      "on-click": "kitty btop"
    },

    "custom/cpu_temp": {
      "format": "{}°C ",
      "interval": 5,
      "exec": "sensors | awk '/Tctl:/ {print int($2); found=1} /Package id 0:/ {gsub(/\\+/,\"\",$4); print int($4); found=1} END {if(!found) print \"?\"}'"
    },

    "custom/music": {
      "escape": true,
      "exec": "playerctl metadata --format='{{ title }}'",
      "format": "󰝚 | {}",
      "interval": 5,
      "max-length": 50,
      "on-click": "playerctl play-pause",
      "tooltip": false
    },

    "pulseaudio": {
      "format": "{icon} {volume}%",
      "format-icons": {
        "default": ["", "", " "]
      },
      "format-muted": "",
      "on-click": "pamixer -t; pkill -RTMIN+9 waybar"
    },

    "custom/mic": {
      "exec": "pamixer --default-source --get-mute | grep -q true && echo '' || echo ''",
      "interval": 2,
      "signal": 9,
      "on-click": "pamixer --default-source -t; pkill -RTMIN+9 waybar",
      "format": "{}"
    },

"custom/kblayout": {
  "exec": "hyprctl devices -j | jq -r '.keyboards[] | select(.main == true) | .active_keymap' | awk '{print toupper($0)}'",
  "interval": 5,
  "format": "{}",
  "on-click": "hyprctl switchxkblayout current next"
},


    "custom/nightmode": {
      "exec": "pgrep -x hyprsunset >/dev/null && echo '󰖔' || echo '󰖙'",
      "format": "{}",
      "interval": 1,
      "signal": 1,
      "on-click": "(pgrep -x hyprsunset >/dev/null && pkill -x hyprsunset) || hyprsunset -t 3000; pkill -RTMIN+1 waybar"
    },

    "custom/power": {
      "format": "",
      "on-click": "wlogout --buttons-per-row 5",
      "tooltip": false
    },

    "hyprland/workspaces": {
      "all-outputs": true,
      "disable-scroll": true,
      "format": "{icon}",
      "format-icons": {
        "active": "󰮯",
        "default": "",
        "urgent": ""
      },
      "on-click": "activate",
      "on-scroll-down": "hyprctl dispatch workspace e-1",
      "on-scroll-up": "hyprctl dispatch workspace e+1"
    },

    "tray": {
      "icon-size": 21,
      "spacing": 10
    }
  }
]
